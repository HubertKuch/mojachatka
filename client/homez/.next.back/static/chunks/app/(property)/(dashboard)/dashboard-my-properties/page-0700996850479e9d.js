(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84,3978,4776,7144,8228],{56713:function(e,t,s){Promise.resolve().then(s.bind(s,19226))},19226:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var a=s(57437),i=s(16022),r=s(96496),n=s(36184),l=s(79283),c=s(96163),o=s(17627),d=s(59318);class u{static async boostOffer(e,t){let s=await this.getBoosts();if(0===s.data.length)return{ok:!1,body:{message:"Nie posiadasz podbic"}};let a=s.data.find(e=>e.properties.type===t&&!e.properties.used);if(!a)return{ok:!1,body:{message:"Nie posiadasz podbic..."}};if(a.properties.type!==t)return{ok:!1,body:{message:"Nie posiadasz podbic...2"}};console.log(a);let i=await d.Z.post("GLOBAL"===t?"/createBoostedOffer":"/createBoostedMainOffer",{offerId:e,boostId:a.id});return{ok:200===i.status,body:i.data}}static async getBoosts(){return await d.Z.get("/getUserBoosts")}}var p=s(44069),h=s(2265),m=s(16691),x=s.n(m),f=s(61396),j=s.n(f),b=s(38218),y=s(85739),g=e=>{var t;let{currPage:s,setMeta:i}=e,r=function(e){let[t,s]=(0,h.useState)({});return(0,h.useEffect)(()=>()=>{p.default.findOwn(e).then(s)},[e]),t}(s);return(0,h.useEffect)(()=>{i(null==r?void 0:r.meta)},[r]),(0,a.jsxs)("table",{className:"table-style3 table at-savesearch",children:[(0,a.jsx)("thead",{className:"t-head",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",children:"Tytul"}),(0,a.jsx)("th",{scope:"col",children:"Akcje"})]})}),(0,a.jsx)("tbody",{className:"t-body",children:null===(t=r.data)||void 0===t?void 0:t.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"row",children:(0,a.jsxs)("div",{className:"listing-style1 dashboard-style d-xxl-flex align-items-center mb-0",children:[(0,a.jsx)("div",{className:"list-thumb",children:(0,a.jsx)(x(),{width:230,height:110,className:"w-100",src:e.properties.images[0],alt:"property"})}),(0,a.jsxs)("div",{className:"list-content py-0 p-0 mt-2 mt-xxl-0 ps-xxl-4",children:[(0,a.jsx)("div",{className:"h6 list-title",children:(0,a.jsx)(j(),{href:"/oferta/".concat(e.id),children:e.title})}),(0,a.jsx)("p",{className:"list-text mb-0",children:e.location}),(0,a.jsx)("div",{className:"list-price",children:(0,a.jsx)("a",{href:"#",children:e.price})})]})]})}),(0,a.jsx)("td",{className:"vam",children:(0,a.jsxs)("div",{style:{display:"grid",gap:"10px",alignItems:"right"},children:[(0,a.jsx)("button",{className:"icon",style:{border:"none"},"data-tooltip-id":"edit-".concat(e.id),children:(0,a.jsx)("span",{className:"fas fa-pen fa"})}),(0,a.jsx)("button",{className:"icon",style:{border:"none"},"data-tooltip-id":"delete-".concat(e.id),children:(0,a.jsx)("span",{className:"flaticon-bin"})}),(0,a.jsxs)(o.Z,{title:"Podbicie oferty ".concat(e.title),trigger:(0,a.jsx)("button",{className:"icon",style:{border:"none"},"data-tooltip-id":"promote",disabled:e.isBoosted,children:(0,a.jsx)("i",{class:"fa-solid fa-rectangle-ad"})}),actions:(0,a.jsx)("button",{className:"form-control btn",onClick:async()=>{var t,s,a;let i=document.querySelector("[name=type]").value,r=document.querySelector("#modal-error");if(!["GLOBAL","MAIN"].includes(i))return r.innerText="Nie poprawny rodzaj";let n=await u.boostOffer(e.id,i);if(!n.ok)return r.innerText=null===(a=n.body)||void 0===a?void 0:a.message;null===(s=window)||void 0===s||null===(t=s.location)||void 0===t||t.reload()},children:"Akceptuj"}),children:[(0,a.jsx)("p",{className:"fz16",style:{color:"red"},id:"modal-error"}),(0,a.jsx)("p",{className:"fz16",children:"Wybierz typ promowania. W razie braku mozliwej promocje mozesz zakupic pakiet promocyjny."}),(0,a.jsx)(b.ZP,{name:"type",options:[{value:"MAIN",label:"Standardowe"},{value:"GLOBAL",label:"Na strone glowna"}]})]}),e.isBoosted?(0,a.jsxs)("button",{disabled:!0,className:"icon",style:{border:"none"},children:[" ",(0,a.jsx)("i",{className:"fa-solid fa-star",style:{color:"#f6d32d"}})]}):null,(0,a.jsx)(y.u,{id:"edit-".concat(e.id),place:"top",content:"Edytuj"}),e.isBoosted?(0,a.jsx)(y.u,{id:"promote",place:"top",content:"Ta oferta jest juz promowana"}):(0,a.jsx)(y.u,{id:"promote",place:"top",content:"Promuj"}),(0,a.jsx)(y.u,{id:"delete-".concat(e.id),place:"top",content:"Delete"})]})})]},e.id))})]})},N=s(34122),v=s(12391),w=()=>{let[e,t]=(0,h.useState)(null),[s,o]=(0,h.useState)(1);return(0,v.Z)(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{}),(0,a.jsx)(r.default,{}),(0,a.jsx)("div",{className:"dashboard_content_wrapper",children:(0,a.jsxs)("div",{className:"dashboard dashboard_wrapper pr30 pr0-xl",children:[(0,a.jsx)(c.Z,{}),(0,a.jsxs)("div",{className:"dashboard__main pl0-md",children:[(0,a.jsxs)("div",{className:"dashboard__content bgc-f7",children:[(0,a.jsx)("div",{className:"row pb40",children:(0,a.jsx)("div",{className:"col-lg-12",children:(0,a.jsx)(N.Z,{})})}),(0,a.jsx)("div",{className:"row align-items-center pb40",children:(0,a.jsx)("div",{className:"col-xxl-3",children:(0,a.jsx)("div",{className:"dashboard_title_area",children:(0,a.jsx)("h2",{children:"My Properties"})})})}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-xl-12",children:(0,a.jsx)("div",{className:"ps-widget bgc-white bdrs12 default-box-shadow2 p30 mb30 overflow-hidden position-relative",children:(0,a.jsxs)("div",{className:"packages_table table-responsive",children:[(0,a.jsx)(g,{currPage:s,setMeta:t}),(0,a.jsx)("div",{className:"mt30",children:(0,a.jsx)(n.Z,{...e,onPageChange:e=>{o(e)}})})]})})})})]}),(0,a.jsx)(l.Z,{})]})]})})]})}},17627:function(e,t,s){"use strict";var a=s(57437),i=s(12702);s(84029),t.Z=function(e){let{trigger:t,actions:s,children:r,title:n}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.Z,{trigger:t,modal:!0,children:e=>(0,a.jsxs)("div",{className:"popup-modal",children:[(0,a.jsxs)("button",{className:"close",onClick:e,children:[" ","\xd7"," "]})," ",n?(0,a.jsxs)("div",{className:"header",children:[n," "]}):null,(0,a.jsx)("div",{className:"content",children:null!=r?r:""}),(0,a.jsx)("div",{className:"actions",children:null!=s?s:""})]})})})}},44069:function(e,t,s){"use strict";s.r(t);var a=s(34456),i=s(59318);class r{static async getCats(){return(await i.Z.get("/categoriesStats")).data}static async getCities(e){return await i.Z.get("/cities?chars="+e)}static async getRandom(e){return(await i.Z.get("/randomOffers?type=".concat(e))).data}static async findAll(e){return(await i.Z.get("/getAllOffers"+a.Z.objectToQueryUri(e))).data}static async findOneById(e){let t=await i.Z.get("/getOffer/"+e);return{status:t.status,offer:t.data}}static async findOwn(e){return(await i.Z.get("/getUserOffers"+a.Z.objectToQueryUri({page:e}))).data}static async createOffer(e){let t=await i.Z.post("/createOffer",JSON.stringify(e));return{body:t.data,status:t.status}}static async getSellTypes(){return(await i.Z.get("/sellTypes")).data}static async getRegions(){return(await i.Z.get("/regions")).data}static async getOfferTypes(){return(await i.Z.get("/offerTypes")).data}}t.default=r},34456:function(e,t){"use strict";t.Z={objectToQueryUri:function(e){let t=new URLSearchParams;return Object.keys(e).forEach(s=>{t.append(s,e[s])}),"?".concat(t.toString())}}},84029:function(){}},function(e){e.O(0,[9805,7315,9375,2702,2203,8218,5739,1633,5791,2971,2472,1744],function(){return e(e.s=56713)}),_N_E=e.O()}]);