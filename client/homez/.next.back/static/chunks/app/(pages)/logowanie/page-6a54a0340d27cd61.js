(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8538],{80800:function(e,t,s){Promise.resolve().then(s.t.bind(s,90413,23)),Promise.resolve().then(s.t.bind(s,68326,23)),Promise.resolve().then(s.bind(s,26253))},26253:function(e,t,s){"use strict";s.r(t);var a=s(57437),r=s(32586),l=s(61396),n=s.n(l),i=s(2265),c=s(36368);t.default=()=>{let e=(0,i.useRef)(),t=(0,i.useRef)(),[s,l]=(0,i.useState)("");return(0,c.Z)(e=>e.setUser),(0,a.jsxs)("form",{className:"form-style1",onSubmit:async s=>{var a,n;s.preventDefault();let i=e.current.value,o=t.current.value,u=await r.default.login(i,o);if(!u.success)return l(u.message);let d=await r.default.getProfile();if(401===d.status)return l("Twoje konto jest nieaktywne");c.Z.setState({user:d.body.user,isLoggedIn:!0},!0),null===(n=window)||void 0===n||null===(a=n.location)||void 0===a||a.replace("/")},children:[(0,a.jsx)("div",{className:"error",children:s}),(0,a.jsxs)("div",{className:"mb25",children:[(0,a.jsx)("label",{className:"form-label fw600 dark-color",children:"Email"}),(0,a.jsx)("input",{type:"email",className:"form-control",placeholder:"Wprowadź adres email",ref:e,required:!0})]}),(0,a.jsxs)("div",{className:"mb15",children:[(0,a.jsx)("label",{className:"form-label fw600 dark-color",children:"Hasło"}),(0,a.jsx)("input",{type:"password",className:"form-control",ref:t,placeholder:"Wprowadź hasło",required:!0})]}),(0,a.jsxs)("div",{className:"checkbox-style1 d-block d-sm-flex align-items-center justify-content-between mb10",children:[(0,a.jsxs)("label",{className:"custom_checkbox fz14 ff-heading",children:["Zapamiętaj mnie",(0,a.jsx)("input",{type:"checkbox",defaultChecked:"checked"}),(0,a.jsx)("span",{className:"checkmark"})]}),(0,a.jsx)("a",{className:"fz14 ff-heading ",style:{visibility:"hidden"},href:"#",children:"Nie pamiętasz hasła? -- NIE DZIALA --"})]}),(0,a.jsx)("div",{className:"d-grid mb20",children:(0,a.jsxs)("button",{className:"ud-btn btn-thm",type:"submit",children:["Zaloguj się ",(0,a.jsx)("i",{className:"fal fa-arrow-right-long"})]})}),(0,a.jsxs)("p",{className:"dark-color text-center mb0 mt10",children:["Nie posiadasz jeszcze konta?"," ",(0,a.jsx)(n(),{className:"dark-color fw600",href:"/register",children:"Stw\xf3rz konto."})]})]})}},32586:function(e,t,s){"use strict";s.r(t);var a=s(36368),r=s(59318);class l{static async activateAccount(e,t){let s=await r.Z.get("/verifyEmail?email=".concat(e,"&code=").concat(t));return s}static async login(e,t){let s=await r.Z.post("/login",{email:e,password:t}),a=s.data;return 200===s.status?{...a,success:!0}:{...a,success:!1}}static async authenticated(){let e=await fetch("".concat("http://localhost:3000","/authenticated"),{credentials:"include"});return(await e.json()).authenticated}static async getProfile(){let e=await r.Z.get("/profile");return a.Z.setState({user:e.data.user},!0),{status:e.status,body:e.data}}}t.default=l},59318:function(e,t,s){"use strict";var a=s(36368);let{default:r}=s(55994),l=r.create({baseURL:"http://localhost:3000",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0,validateStatus:()=>!0});l.interceptors.response.use(e=>(403===e.status&&a.Z.setState({user:null,isLoggedIn:!1},!0),e)),t.Z=l},36368:function(e,t,s){"use strict";var a=s(94660),r=s(74810);let l=(0,a.Ue)((0,r.tJ)((e,t)=>({user:null,isLoggedIn:!1,setUser:t=>e(e=>({user:t,isLoggedIn:!0})),logout:()=>e(e=>({user:null,isLoggedIn:!1,token:null})),token:null,setToken:t=>e(()=>({token:t})),refreshToken:null,setRefreshToken:t=>e(()=>({refreshToken:t})),registerData:{},setRegisterData:t=>e(()=>({registerData:t}))}),{name:"app-store",storage:(0,r.FL)(()=>localStorage)}));t.Z=l},61396:function(e,t,s){e.exports=s(68326)}},function(e){e.O(0,[7315,9375,2971,2472,1744],function(){return e(e.s=80800)}),_N_E=e.O()}]);