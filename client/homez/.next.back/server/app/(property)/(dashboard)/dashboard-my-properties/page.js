(()=>{var e={};e.id=84,e.ids=[84],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},17650:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>l});var r=s(67096),a=s(16132),i=s(37284),o=s.n(i),n=s(32564),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let l=["",{children:["(property)",{children:["(dashboard)",{children:["dashboard-my-properties",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,97176)),"/home/hubert/projects/mojachatka/client/homez/src/app/(property)/(dashboard)/dashboard-my-properties/page.js"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,44553)),"/home/hubert/projects/mojachatka/client/homez/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/home/hubert/projects/mojachatka/client/homez/src/app/(property)/(dashboard)/dashboard-my-properties/page.js"],p="/(property)/(dashboard)/dashboard-my-properties/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(property)/(dashboard)/dashboard-my-properties/page",pathname:"/dashboard-my-properties",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},5036:(e,t,s)=>{Promise.resolve().then(s.bind(s,54234))},54234:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var r=s(53854),a=s(19625),i=s(23349),o=s(40018),n=s(48767),d=s(66182),l=s(19122),c=s(53538);class p{static async boostOffer(e,t){let s=await this.getBoosts();if(0===s.data.length)return{ok:!1,body:{message:"Nie posiadasz podbic"}};let r=s.data.find(e=>e.properties.type===t&&!e.properties.used);if(!r)return{ok:!1,body:{message:"Nie posiadasz podbic..."}};if(r.properties.type!==t)return{ok:!1,body:{message:"Nie posiadasz podbic...2"}};console.log(r);let a=await c.Z.post("GLOBAL"===t?"/createBoostedOffer":"/createBoostedMainOffer",{offerId:e,boostId:r.id});return{ok:200===a.status,body:a.data}}static async getBoosts(){return await c.Z.get("/getUserBoosts")}}var u=s(36856),h=s(34218),m=s(41956),x=s.n(m),j=s(75548),b=s.n(j),f=s(18569),y=s(87931);let g=({currPage:e,setMeta:t})=>{let s=function(e){let[t,s]=(0,h.useState)({});return(0,h.useEffect)(()=>()=>{u.default.findOwn(e).then(s)},[e]),t}(e);return(0,h.useEffect)(()=>{t(s?.meta)},[s]),(0,r.jsxs)("table",{className:"table-style3 table at-savesearch",children:[r.jsx("thead",{className:"t-head",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"col",children:"Tytul"}),r.jsx("th",{scope:"col",children:"Akcje"})]})}),r.jsx("tbody",{className:"t-body",children:s.data?.map(e=>r.jsxs("tr",{children:[r.jsx("th",{scope:"row",children:r.jsxs("div",{className:"listing-style1 dashboard-style d-xxl-flex align-items-center mb-0",children:[r.jsx("div",{className:"list-thumb",children:r.jsx(x(),{width:230,height:110,className:"w-100",src:e.properties.images[0],alt:"property"})}),r.jsxs("div",{className:"list-content py-0 p-0 mt-2 mt-xxl-0 ps-xxl-4",children:[r.jsx("div",{className:"h6 list-title",children:r.jsx(b(),{href:`/oferta/${e.id}`,children:e.title})}),r.jsx("p",{className:"list-text mb-0",children:e.location}),r.jsx("div",{className:"list-price",children:r.jsx("a",{href:"#",children:e.price})})]})]})}),r.jsx("td",{className:"vam",children:r.jsxs("div",{style:{display:"grid",gap:"10px",alignItems:"right"},children:[r.jsx("button",{className:"icon",style:{border:"none"},"data-tooltip-id":`edit-${e.id}`,children:r.jsx("span",{className:"fas fa-pen fa"})}),r.jsx("button",{className:"icon",style:{border:"none"},"data-tooltip-id":`delete-${e.id}`,children:r.jsx("span",{className:"flaticon-bin"})}),r.jsxs(l.Z,{title:`Podbicie oferty ${e.title}`,trigger:r.jsx("button",{className:"icon",style:{border:"none"},"data-tooltip-id":"promote",disabled:e.isBoosted,children:r.jsx("i",{class:"fa-solid fa-rectangle-ad"})}),actions:r.jsx("button",{className:"form-control btn",onClick:async()=>{let t=document.querySelector("[name=type]").value,s=document.querySelector("#modal-error");if(!["GLOBAL","MAIN"].includes(t))return s.innerText="Nie poprawny rodzaj";let r=await p.boostOffer(e.id,t);if(!r.ok)return s.innerText=r.body?.message;window?.location?.reload()},children:"Akceptuj"}),children:[r.jsx("p",{className:"fz16",style:{color:"red"},id:"modal-error"}),r.jsx("p",{className:"fz16",children:"Wybierz typ promowania. W razie braku mozliwej promocje mozesz zakupic pakiet promocyjny."}),r.jsx(f.ZP,{name:"type",options:[{value:"MAIN",label:"Standardowe"},{value:"GLOBAL",label:"Na strone glowna"}]})]}),e.isBoosted?r.jsxs("button",{disabled:!0,className:"icon",style:{border:"none"},children:[" ",r.jsx("i",{className:"fa-solid fa-star",style:{color:"#f6d32d"}})]}):null,r.jsx(y.u,{id:`edit-${e.id}`,place:"top",content:"Edytuj"}),e.isBoosted?r.jsx(y.u,{id:"promote",place:"top",content:"Ta oferta jest juz promowana"}):r.jsx(y.u,{id:"promote",place:"top",content:"Promuj"}),r.jsx(y.u,{id:`delete-${e.id}`,place:"top",content:"Delete"})]})})]},e.id))})]})};var v=s(81017),N=s(26212);let w=()=>{let[e,t]=(0,h.useState)(null),[s,l]=(0,h.useState)(1);return(0,N.Z)(),(0,r.jsxs)(r.Fragment,{children:[r.jsx(a.Z,{}),r.jsx(i.default,{}),r.jsx("div",{className:"dashboard_content_wrapper",children:(0,r.jsxs)("div",{className:"dashboard dashboard_wrapper pr30 pr0-xl",children:[r.jsx(d.Z,{}),(0,r.jsxs)("div",{className:"dashboard__main pl0-md",children:[(0,r.jsxs)("div",{className:"dashboard__content bgc-f7",children:[r.jsx("div",{className:"row pb40",children:r.jsx("div",{className:"col-lg-12",children:r.jsx(v.Z,{})})}),r.jsx("div",{className:"row align-items-center pb40",children:r.jsx("div",{className:"col-xxl-3",children:r.jsx("div",{className:"dashboard_title_area",children:r.jsx("h2",{children:"My Properties"})})})}),r.jsx("div",{className:"row",children:r.jsx("div",{className:"col-xl-12",children:r.jsx("div",{className:"ps-widget bgc-white bdrs12 default-box-shadow2 p30 mb30 overflow-hidden position-relative",children:(0,r.jsxs)("div",{className:"packages_table table-responsive",children:[r.jsx(g,{currPage:s,setMeta:t}),r.jsx("div",{className:"mt30",children:r.jsx(o.Z,{...e,onPageChange:e=>{l(e)}})})]})})})})]}),r.jsx(n.Z,{})]})]})})]})}},19122:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(53854),a=s(67016);s(35358);let i=function({trigger:e,actions:t,children:s,title:i}){return r.jsx(r.Fragment,{children:r.jsx(a.Z,{trigger:e,modal:!0,children:e=>(0,r.jsxs)("div",{className:"popup-modal",children:[(0,r.jsxs)("button",{className:"close",onClick:e,children:[" ","\xd7"," "]})," ",i?(0,r.jsxs)("div",{className:"header",children:[i," "]}):null,r.jsx("div",{className:"content",children:s??""}),r.jsx("div",{className:"actions",children:t??""})]})})})}},36856:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(34306),a=s(53538);class i{static async getCats(){return(await a.Z.get("/categoriesStats")).data}static async getCities(e){return await a.Z.get("/cities?chars="+e)}static async getRandom(e){return(await a.Z.get(`/randomOffers?type=${e}`)).data}static async findAll(e){return(await a.Z.get("/getAllOffers"+r.Z.objectToQueryUri(e))).data}static async findOneById(e){let t=await a.Z.get("/getOffer/"+e);return{status:t.status,offer:t.data}}static async findOwn(e){return(await a.Z.get("/getUserOffers"+r.Z.objectToQueryUri({page:e}))).data}static async createOffer(e){let t=await a.Z.post("/createOffer",JSON.stringify(e));return{body:t.data,status:t.status}}static async getSellTypes(){return(await a.Z.get("/sellTypes")).data}static async getRegions(){return(await a.Z.get("/regions")).data}static async getOfferTypes(){return(await a.Z.get("/offerTypes")).data}}let o=i},34306:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r={objectToQueryUri:function(e){let t=new URLSearchParams;return Object.keys(e).forEach(s=>{t.append(s,e[s])}),`?${t.toString()}`}}},97176:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>i,default:()=>d});var r=s(95153);let a=(0,r.createProxy)(String.raw`/home/hubert/projects/mojachatka/client/homez/src/app/(property)/(dashboard)/dashboard-my-properties/page.js`),{__esModule:i,$$typeof:o}=a,n=a.default,d=n},35358:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[576,146,839,323,16,894,569,76,971,898],()=>s(17650));module.exports=r})();